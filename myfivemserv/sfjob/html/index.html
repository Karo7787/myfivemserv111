<html style="overflow-y: hidden;">
<head>
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.6.0/css/all.css">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.6.0/css/sharp-duotone-solid.css">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.6.0/css/sharp-thin.css">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.6.0/css/sharp-solid.css">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.6.0/css/sharp-regular.css">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.6.0/css/sharp-light.css">
    <link rel="stylesheet" href="style.css">
    <script src="../config.js"></script>
</head>
<body>
    <div id="jobCenter">
    <div id="content">
        <main id="main">
            <template v-if="page=='jobcenter'">
                <template v-if="loading==true">
                    <div class="row">
                        <div class="allincenter">
                            <h3 class="welcome-info">{{lang.main_header}}</h3>
                        </div>          
                        <div style="width: 100%;">
                            <div style="width: 100%; margin-top: 15px;" class="buttn" v-on:click="loading=false">{{lang.main_button}}</div>
                        </div>     
                    </div>
                </template>
                <template v-if="loading==false">  
                    <div class="row">
                        <div class="col-md-12">
                            <div class="col-md-12 text-left"  style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                                <h3 style="margin-top: 4.5px;">{{lang.text_header}}</h3>
                                <div class="buttn" style="padding: .5rem 1rem;;" v-on:click="close()">X</div>
                            </div>
                            <div class="specialbgpadding">
                                <div class="row">
                                    <template v-if="systemjobs.length > 0">
                                        <swiper-container style="padding-left: 5vh;padding-right: 5vh;" space-between="50" slides-per-view="2" navigation="true">
                                            <template v-for="(name, value) in systemjobs" v-if="name.system==1">
                                                <swiper-slide>
                                                    <div class="citizen-vehicle">
                                                        <img v-bind:src="'images/'+name.workname+'.png'" class="w-100 job-img" alt="Job">
                                                        <div class="job-name"><h3>{{name.name}}</h3></div>                                   
                                                        <div class="job-description">{{getDescription(name.workname)}}</div>
                                                        <div class="job-button">
                                                            <div class="buttn" v-if="haveJob(name.workname)==false" v-on:click="addJob(name.workname)" >{{lang.text_button_in}}</div>
                                                            <div class="buttn" v-if="haveJob(name.workname)==true" v-on:click="dropJob(name.workname)">{{lang.text_button_drop}}</div></div>
                                                    </div>
                                                </swiper-slide>
                                            </template>
                                        </swiper-container> 
                                    </template> 
                                    <template v-else>
                                        <div class="allincenter" style="height: 54vh;"><h3 class="welcome-info">{{lang.no_jobs}}</h3></div>
                                    </template>                       
                                </div>
                            </div>
                        </div>
                    </div>
                </template>
            </template>
            <template v-if="page=='sellcash'">
                <div class="row">
                    <div class="col-md-12 text-left"  style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                        <h3 style="margin-top: 4.5px;">{{lang.text_cash_register}} {{jobName}} #{{idcash}}</h3>
                        <div class="buttn" style="padding: .5rem 1rem;;" v-on:click="close()">X</div>
                    </div>
                    <template v-if="getProductsFromJob().length>0">
                        <div class="col col-lg-6 gridshop">
                            <template v-for="(name, value) in getProductsFromJob()">
                                <div class="col-6 shopCard">
                                    <div class="product" v-on:click="addProduct(name.product, value)" >
                                        <div class="nameItemShop">{{correctName(name.product)}}</div>
                                        <img v-if="inInventory(name.product)==true" :src="`nui://ox_inventory/web/images/${name.product}.png`">
                                        <img v-if="inInventory(name.product)==false" src="kit.png">
                                        <div class="priceItemShop">{{name.price}}$</div>                              
                                    </div>
                                </div>
                            </template> 
                        </div>
                        <div class="col col-lg-6">
                                <h3 class="header-order">{{lang.text_cash_added_products}}</h3>
                                <div class="list-order">
                                    <template v-for="(name, value) in cart">
                                        <div class="col-6 text-left hrorder order-product-name">{{correctName(name.product)}}</div>
                                        <div class="col-4 text-center hrorder"><span class="smallbtnbg" v-on:click="removeProduct(name.product)">-</span>&nbsp;&nbsp;{{name.amount}}&nbsp;&nbsp;<span class="smallbtnbg" v-on:click="addProduct(name.product)">+</span></div>
                                        <div class="col-2 text-right hrorder">{{name.price*name.amount}}$</div>
                                        <template v-if="name.list.length>0" v-for="(namex, valuex) in name.list">
                                            <div class="col-2">&nbsp;</div>
                                            <div class="col-8 text-left hrorder order-product-name">{{correctName(namex.product)}}</div>
                                            <div class="col-2 text-right hrorder">x{{name.amount*namex.amount}}</div>
                                        </template>
                                    </template>
                                    <template v-if="cart.length==0">
                                        <div class="col-6 text-left hrorder order-product-name">...</div>
                                        <div class="col-4 text-center hrorder">...</div>
                                        <div class="col-2 text-right hrorder">...</div>
                                    </template>
                                </div>
                                <div class="gpt-input" style="margin-top: 10px; background-color: rgba(92, 92, 92, 0.05);">
                                    <input type="number" oninput="if(this.value<=0){this.value=0}if(this.value >= 21){this.value=20}this.value = Math.round(this.value);" v-model="discount" value="0" step="1" placeholder="Żniżka">
                                    <i class="fa-solid fa-percent"></i>
                                </div>
                                <div class="gpt-input" style="margin-top: 5px; margin-bottom: 10px; background-color: rgba(92, 92, 92, 0.05);">
                                    <input type="text" :value="getPaidOrder()" disabled>
                                    <i class="fa-solid fa-dollar-sign"></i>
                                </div>
                                <div v-on:click="addOrder(getPaidOrder())" class="buttn" style="width: 100%;">{{lang.text_cash_button}}</div>
                        </div> 
                    </template>
                    <template v-else>
                        <div style="width: 100%;">
                            <template>
                                <h3 class="order-products-text">{{lang.text_cash_price}}</h3>
                                <div class="gpt-input">
                                    <input type="number" oninput="if(this.value<=0){this.value=1}this.value = Math.round(this.value);" v-model="amountmoney" step="1" :placeholder="lang.text_input_money">
                                    <i class="fa-solid fa-dollar-sign"></i>
                                </div>
                            </template>
                            <div style="display: flex; gap: 15px; margin-top: 15px;">
                                <div v-on:click="addOrder(amountmoney)" class="buttn" style="width: 100%;">{{lang.text_cash_button}}</div>
                            </div>
                        </div>     
                    </template>       
                </div>
            </template>  
            <template v-if="page=='buycash'" >
                <div class="row">
                    <div class="col-md-12 text-left"  style="display: flex; justify-content: space-between;">
                        <h3 style="margin-top: 4.5px;">{{lang.text_cash_register}} {{jobName}} #{{idcash}}</h3>
                        <div class="buttn" style="padding: .5rem 1rem;;" v-on:click="close()">X</div>
                    </div>
                    <div class="allincenter" style="height: 15vh;">
                        <div class="short-info">
                            <h1 class="order-products-text tipHeader">{{lang.text_cash_price2}}<br/> {{datacash.money}}$</h3>
                                <div class="judgment-list">
                                    <template v-for="(name, value) in datacash.products">
                                        <div class="judgment-list-item">
                                            <span style="font-weight: bold;">{{correctName(name.product)}} x{{name.amount}}</span>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </div>  
                    <div style="width: 100%;">
                        <template v-if="tipStatus && datacash.money>0">
                            <h3 class="order-products-text">{{lang.text_cash_bonus}}</h3>
                            <div class="gpt-input">
                                <input type="number" oninput="if(this.value<0){this.value=0}this.value = Math.round(this.value);"  maxlength="16" v-model="tipamount" placeholder="Napiwek..">
                                <i class="fa-solid fa-dollar-sign"></i>
                            </div>
                        </template>
                        <div style="display: flex; gap: 15px; margin-top: 15px;">
                            <div :style="datacash.money>0 ? 'opacity: 1.0' : 'opacity: 0.7'" style="width: 100%; margin-top: 15px;" class="buttn" v-on:click="datacash.money>0 && pay('money')">{{lang.text_cash_pay_money}}</div>
                            <div :style="datacash.money>0 ? 'opacity: 1.0' : 'opacity: 0.7'"  style="width: 100%; margin-top: 15px;" class="buttn" v-on:click="datacash.money>0 && pay('card')">{{lang.text_cash_pay_card}}</div>
                        </div>
                    </div>                  
                </div>
            </template>  
        </main>
    </div>
    </div> 
    <script src="jquery.min.js"></script>
    <script src="vue.min.js"></script>
    <script src="mirage.js"></script>
    <script src="popper.min.js"></script>
    <script src="bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-element-bundle.min.js"></script>
</body>
</html>